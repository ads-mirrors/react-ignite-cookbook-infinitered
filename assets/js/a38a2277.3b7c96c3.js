"use strict";(self.webpackChunkignite_cookbook=self.webpackChunkignite_cookbook||[]).push([[1640],{1182:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var s=i(7624),t=i(2172);const o={title:"Inline Expo Config Plugins",description:"Creating and setting up inline Expo config plugins within the Ignite Boilerplate",tags:["Expo","Config Plugins","TypeScript","Android","iOS"],last_update:{author:"Frank Calise"},publish_date:new Date("2025-10-07T00:00:00.000Z")},r="Inline Expo Config Plugins",l={id:"recipes/InlineConfigPlugins",title:"Inline Expo Config Plugins",description:"Creating and setting up inline Expo config plugins within the Ignite Boilerplate",source:"@site/docs/recipes/InlineConfigPlugins.md",sourceDirName:"recipes",slug:"/recipes/InlineConfigPlugins",permalink:"/docs/recipes/InlineConfigPlugins",draft:!1,unlisted:!1,tags:[{label:"Expo",permalink:"/docs/tags/expo"},{label:"Config Plugins",permalink:"/docs/tags/config-plugins"},{label:"TypeScript",permalink:"/docs/tags/type-script"},{label:"Android",permalink:"/docs/tags/android"},{label:"iOS",permalink:"/docs/tags/i-os"}],version:"current",lastUpdatedBy:"Frank Calise",lastUpdatedAt:1759951066,formattedLastUpdatedAt:"Oct 8, 2025",frontMatter:{title:"Inline Expo Config Plugins",description:"Creating and setting up inline Expo config plugins within the Ignite Boilerplate",tags:["Expo","Config Plugins","TypeScript","Android","iOS"],last_update:{author:"Frank Calise"},publish_date:"2025-10-07T00:00:00.000Z"},sidebar:"mainSidebar",previous:{title:"Generator for Component Tests",permalink:"/docs/recipes/GeneratorComponentTests"},next:{title:"PowerSync and Supabase for Local-First Data Management",permalink:"/docs/recipes/LocalFirstDataWithPowerSync"}},a={},c=[{value:"Appetizer",id:"appetizer",level:2},{value:"Steps",id:"steps",level:2},{value:"1. Project Structure Setup",id:"1-project-structure-setup",level:3},{value:"2. Create Your First Config Plugin",id:"2-create-your-first-config-plugin",level:3},{value:"3. Register the Config Plugin",id:"3-register-the-config-plugin",level:3},{value:"4. Apply the Changes",id:"4-apply-the-changes",level:3},{value:"5. Verify the Changes",id:"5-verify-the-changes",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Plugin Structure",id:"plugin-structure",level:3},{value:"Multiple Plugins",id:"multiple-plugins",level:3},{value:"Development Workflow",id:"development-workflow",level:3},{value:"Common Use Cases",id:"common-use-cases",level:2},{value:"Dessert",id:"dessert",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"inline-expo-config-plugins",children:"Inline Expo Config Plugins"}),"\n",(0,s.jsx)(n.p,{children:"This guide will teach you how to create and set up inline Expo config plugins within an Ignite project. Config plugins allow you to modify your native iOS and Android projects programmatically, letting you stay in the CNG workflow while still customizing native behavior."}),"\n",(0,s.jsx)(n.h2,{id:"appetizer",children:"Appetizer"}),"\n",(0,s.jsxs)(n.p,{children:["You'll need an Ignite app set up with the ",(0,s.jsx)(n.code,{children:"cng"})," workflow to use config plugins:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx ignite-cli@latest new PizzaApp --workflow=cng --yes\n"})}),"\n",(0,s.jsx)(n.h2,{id:"steps",children:"Steps"}),"\n",(0,s.jsx)(n.h3,{id:"1-project-structure-setup",children:"1. Project Structure Setup"}),"\n",(0,s.jsx)(n.p,{children:"First, let's create the folder structure for our config plugins. From your project root:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir plugins\n"})}),"\n",(0,s.jsx)(n.p,{children:"Your project structure should now look like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u251c\u2500\u2500 app/\n\u251c\u2500\u2500 plugins/          # \u2190 New folder for config plugins\n\u251c\u2500\u2500 app.config.ts\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 ...\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-create-your-first-config-plugin",children:"2. Create Your First Config Plugin"}),"\n",(0,s.jsxs)(n.p,{children:["Let's create an example config plugin to address the double splash screen issue with ",(0,s.jsx)(n.code,{children:"expo-splash-screen"}),". Create a new file at ",(0,s.jsx)(n.code,{children:"plugins/withSplashScreen.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import {\n  ConfigPlugin,\n  withStringsXml,\n  AndroidConfig,\n  withAndroidStyles,\n} from "expo/config-plugins";\n\n/**\n *\n * Expo Config Plugin to help address the double splash screen issue with `expo-splash-screen`\n * See more information about this issue here: https://github.com/expo/expo/issues/16084\n *\n * How it works:\n *   1) Replace the default splash screen with a transparent screen\n *   2) Set the splash screen status bar to translucent\n */\nexport const withSplashScreen: ConfigPlugin = (config) => {\n  config = withAndroidSplashScreen(config);\n  return config;\n};\n\n/**\n * Android implementation of the config plugin - the only platform needed for this plugin.\n * However, it is good practice to break up your config plugins from the exported\n * function into parts by platform. For example, if it was needed, we would also\n * add `withIosSplashScreen` for the iOS implementation.\n */\nconst withAndroidSplashScreen: ConfigPlugin = (config) => {\n  config = withCustomStylesXml(config);\n  config = withCustomStringsXml(config);\n  return config;\n};\n\n/**\n * Modifies the `android/app/src/main/res/values/strings.xml` file to add the following string:\n *\n * <string name="expo_splash_screen_status_bar_translucent" translatable="false">true</string>\n */\nconst withCustomStringsXml: ConfigPlugin = (config) =>\n  withStringsXml(config, (modConfig) => {\n    modConfig.modResults = AndroidConfig.Strings.setStringItem(\n      [\n        {\n          _: "true",\n          $: {\n            name: "expo_splash_screen_status_bar_translucent",\n            translatable: "false",\n          },\n        },\n      ],\n      modConfig.modResults\n    );\n    return modConfig;\n  });\n\n/**\n * Modifies the `android/app/src/main/res/values/styles.xml` file to append the\n * the following to the Theme.App.SplashScreen style:\n *\n * <item name="android:windowIsTranslucent">true</item>\n */\nconst withCustomStylesXml: ConfigPlugin = (config) =>\n  withAndroidStyles(config, async (modConfig) => {\n    modConfig.modResults = AndroidConfig.Styles.assignStylesValue(modConfig.modResults, {\n      add: true,\n      name: "android:windowIsTranslucent",\n      value: "true",\n      parent: {\n        name: "Theme.App.SplashScreen",\n        parent: "AppTheme",\n      },\n    });\n    return modConfig;\n  });\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-register-the-config-plugin",children:"3. Register the Config Plugin"}),"\n",(0,s.jsxs)(n.p,{children:["Now we need to register our config plugin in the ",(0,s.jsx)(n.code,{children:"app.config.ts"})," file. Update the plugins array:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'module.exports = ({ config }: ConfigContext): Partial<ExpoConfig> => {\n  const existingPlugins = config.plugins ?? [];\n\n  return {\n    ...config,\n    plugins: [...existingPlugins, require("./plugins/withSplashScreen").withSplashScreen],\n  };\n};\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-apply-the-changes",children:"4. Apply the Changes"}),"\n",(0,s.jsx)(n.p,{children:"To see your config plugin in action, you'll need to regenerate the native code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx expo prebuild --clean\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--clean"})," flag ensures that any previous native modifications are cleared and your config plugin changes are applied fresh."]}),"\n",(0,s.jsx)(n.h3,{id:"5-verify-the-changes",children:"5. Verify the Changes"}),"\n",(0,s.jsx)(n.p,{children:"After running prebuild, you can verify that your config plugin worked by checking the generated files:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Android Strings"})," (",(0,s.jsx)(n.code,{children:"android/app/src/main/res/values/strings.xml"}),"):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<string name="expo_splash_screen_status_bar_translucent" translatable="false">true</string>\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Android Styles"})," (",(0,s.jsx)(n.code,{children:"android/app/src/main/res/values/styles.xml"}),"):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<style name="Theme.App.SplashScreen" parent="AppTheme">\n  \x3c!-- ... existing styles ... --\x3e\n  <item name="android:windowIsTranslucent">true</item>\n</style>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"plugin-structure",children:"Plugin Structure"}),"\n",(0,s.jsx)(n.p,{children:"Follow these conventions when creating config plugins:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Platform Separation"}),": Break up complex plugins into platform-specific functions (",(0,s.jsx)(n.code,{children:"withAndroidFeature"}),", ",(0,s.jsx)(n.code,{children:"withIosFeature"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clear Documentation"}),": Add JSDoc comments explaining what each function does and what files it modifies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Descriptive Naming"}),": Use clear, descriptive names that indicate the plugin's purpose"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"multiple-plugins",children:"Multiple Plugins"}),"\n",(0,s.jsx)(n.p,{children:"If you need multiple config plugins, create separate files for each and register them all:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// plugins/withCustomFonts.ts\nexport const withCustomFonts: ConfigPlugin = (config) => {\n  // Implementation here\n  return config;\n};\n\n// plugins/withDeepLinking.ts\nexport const withDeepLinking: ConfigPlugin = (config) => {\n  // Implementation here\n  return config;\n};\n\n// app.config.ts\nmodule.exports = ({ config }: ConfigContext): Partial<ExpoConfig> => {\n  const existingPlugins = config.plugins ?? [];\n\n  return {\n    ...config,\n    plugins: [\n      ...existingPlugins,\n      require("./plugins/withSplashScreen").withSplashScreen,\n      require("./plugins/withCustomFonts").withCustomFonts,\n      require("./plugins/withDeepLinking").withDeepLinking,\n    ],\n  };\n};\n'})}),"\n",(0,s.jsx)(n.h3,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create/Modify Plugin"}),": Make changes to your config plugin files"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Prebuild"}),": Run ",(0,s.jsx)(n.code,{children:"npx expo prebuild --clean"})," to apply changes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test"}),": Build and test your app to ensure the native modifications work as expected"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Iterate"}),": Repeat as needed for additional modifications"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-use-cases",children:"Common Use Cases"}),"\n",(0,s.jsx)(n.p,{children:"Config plugins are perfect for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Customizing splash screens"})," (like our example)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Modifying app icons"})," or other assets"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Adding native dependencies"})," that require configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Customizing build settings"})," for specific requirements"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"dessert",children:"Dessert"}),"\n",(0,s.jsx)(n.p,{children:"You now have inline config plugins set up in your Ignite project! This opens up a whole world of native customization possibilities while keeping you in Expo's managed workflow. Remember to always test your changes thoroughly, especially when modifying native behavior."}),"\n",(0,s.jsxs)(n.p,{children:["For more advanced config plugin examples and APIs, check out the ",(0,s.jsx)(n.a,{href:"https://docs.expo.dev/guides/config-plugins/",children:"Expo Config Plugins documentation"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Buon appetito!"})]})}function d(e={}){const{wrapper:n}={...(0,t.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},2172:(e,n,i)=>{i.d(n,{I:()=>l,M:()=>r});var s=i(1504);const t={},o=s.createContext(t);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);